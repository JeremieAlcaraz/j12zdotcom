---
import Icon from '@/ui/atoms/Icon.astro'

// Keep props handling simple to avoid compiler hiccups
const { position = 'fixed', class: extraClass = '' } = Astro.props
const positionClass = position === 'absolute' ? 'absolute' : 'fixed'

---

<!-- Floating Action Button (FAB) + Speed Dial using daisyUI 5 -->
<div class={`fab ${positionClass} bottom-6 right-6 z-50 ${extraClass}`}>
  <!-- Focusable trigger: required for accessibility and to open the Speed Dial -->
  <div
    tabindex="0"
    role="button"
    aria-label="Actions rapides"
    aria-expanded="false"
    class="btn btn-lg btn-circle btn-secondary"
    data-fab-main
  >
    <!-- Plus icon (inline SVG) -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="2"
      stroke="currentColor"
      aria-hidden="true"
      class="size-6"
    >
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
    </svg>
  </div>

  <!-- Buttons that show up when FAB is open -->
  <button type="button" class="btn btn-lg btn-circle" aria-label="Focus" data-fab-item data-fab-action="focus">
    <Icon name="eye" size={24} class="text-base-content" title="Focus" />
  </button>
  <button type="button" class="btn btn-lg btn-circle" aria-label="Musique" data-fab-item data-fab-action="music">
    <Icon name="music" size={24} class="text-base-content" title="Musique" />
  </button>
</div>
