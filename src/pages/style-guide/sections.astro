---
import { getEntry } from 'astro:content'
import type { CollectionEntry } from 'astro:content'

import StyleGuideLayout from '@/layouts/StyleGuideLayout.astro'
import ComponentGallery from '@/components/dev/ComponentGallery.astro'
import Section from '@/components/atoms/Section.astro'
import Footer from '@/components/layout/SiteFooter.astro'

const modules = import.meta.glob('@/components/sections/**/*.astro', { eager: true })

const testimonial = (await getEntry(
  'testimonialSection',
  'testimonial'
)) as CollectionEntry<'testimonialSection'>

const demoProps = {
  TestimonialSection: { testimonial },
}

const extra = [{ name: 'Footer', Component: Footer }]
---

<StyleGuideLayout title="Style Guide | Sections">
  <ComponentGallery modules={modules} demoProps={demoProps} extra={extra} />
  <Section>
    <h2 class="mb-8 text-center text-3xl font-bold">Calendrier Luma</h2>
    <div class="flex justify-center">
      <iframe
        src="https://lu.ma/embed/calendar/cal-Ocr3w6Nc4xGsrHH/events"
        width="100%"
        height="600"
        frameborder="0"
        class="w-full max-w-5xl rounded-md border border-gray-300"
        allowfullscreen
        aria-hidden="false"
        tabindex="0"></iframe>
    </div>
  </Section>
</StyleGuideLayout>
