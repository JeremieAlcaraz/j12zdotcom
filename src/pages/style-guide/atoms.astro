---
import StyleGuideLayout from '@/domain/style-guide/layouts/StyleGuideLayout.astro'
import Section from '@/ui/atoms/Section.astro'
import Alert from '@/ui/atoms/Alert.astro'
import Avatar from '@/ui/atoms/Avatar.astro'
import Badge from '@/ui/atoms/Badge.astro'
import Button from '@/ui/atoms/Button.astro'
import Checkbox from '@/ui/atoms/Checkbox.astro'
import Divider from '@/ui/atoms/Divider.astro'
import DotLottiePlayer from '@/ui/atoms/DotLottiePlayer.astro'
import FluidCursor from '@/ui/atoms/FluidCursor.astro'
import Halo from '@/ui/atoms/Halo.astro'
import Icon from '@/ui/atoms/Icon.astro'
import ImageMod from '@/ui/atoms/ImageMod.astro'
import Kbd from '@/ui/atoms/Kbd.astro'
import Loader from '@/ui/atoms/Loader.astro'
import LottiePlayer from '@/ui/atoms/LottiePlayer.astro'
import Notice from '@/ui/atoms/Notice.astro'
import PaginationItem from '@/ui/atoms/PaginationItem.astro'
import Video from '@/ui/atoms/Video.astro'
import Youtube from '@/ui/atoms/Youtube.astro'
// import AstroLogo from "~icons/logos/astro";
import MdiStore24Hour from "~icons/mdi/store-24-hour";
import MdiAlarmOff from "~icons/mdi/alarm-off";
import IconParkAbnormal from "~icons/icon-park/abnormal";
import RawMdiAlarmOff from "~icons/mdi/alarm-off?raw&width=4em&height=4em";
import RawMdiAlarmOff2 from "~icons/mdi/alarm-off?raw&width=1em&height=1em";

const loadingVariants = ['spinner', 'dots', 'ring', 'ball', 'bars', 'infinity'] as const
const itemSizes = ['xs', 'sm', 'md', 'lg', 'xl'] as const
const itemColors = [
  'primary',
  'secondary',
  'accent',
  'neutral',
  'info',
  'success',
  'warning',
  'error',
] as const
---

<StyleGuideLayout title="Style Guide | Atoms">
  <!-- Alert -->
<Section>
  <div id="alert" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Alert" />
  </div>
  <h2 class="sr-only">Alert</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Variants</h3>
        <div class="flex flex-col gap-4">
          <Alert tone="info">Information alert</Alert>
          <Alert tone="success">All good!</Alert>
          <Alert tone="warning">Heads up!</Alert>
          <Alert tone="error">Something went wrong</Alert>
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Sans icône</h3>
        <div class="flex flex-col gap-4">
          <Alert tone="info" icon={false}>Information alert</Alert>
          <Alert tone="success" icon={false}>All good!</Alert>
        </div>
      </div>
    </div>
  </Section>

  <!-- Avatar -->
<Section>
  <div id="avatar" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Avatar" />
  </div>
  <h2 class="sr-only">Avatar</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Sizes</h3>
        <div class="flex flex-wrap items-center gap-4">
<Avatar src="img_opt/jeremie-hero" alt="Jérémie" size={40} />
          <Avatar src="img_opt/jeremie-hero" alt="Jérémie" size={60} />
          <Avatar src="img_opt/jeremie-hero" alt="Jérémie" size={80} />
          <Avatar src="img_opt/jeremie-hero" alt="Jérémie" size={100} />
        </div>
      </div>
    </div>
  </Section>

  <!-- Badge -->
<Section>
  <div id="badge" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Badge" />
  </div>
  <h2 class="sr-only">Badge</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Variants</h3>
        <div class="flex flex-wrap items-center gap-4">
          <Badge label="Primary" variant="primary" />
          <Badge label="Secondary" variant="secondary" />
          <Badge label="Neutral" variant="neutral" />
        </div>
      </div>
    </div>
  </Section>

  <!-- Button -->
<Section>
  <div id="button" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Button" />
  </div>
  <h2 class="sr-only">Button</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Variants</h3>
        <div class="flex flex-wrap items-center gap-4">
          <Button label="Primary" link="#" />
          <Button label="Outline" link="#" style="outline" />
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Targets</h3>
        <div class="flex flex-wrap items-center gap-4">
          <Button label="Self" link="#" target="_self" />
          <Button label="Blank" link="#" target="_blank" />
        </div>
      </div>
    </div>
  </Section>

  <!-- Checkbox -->
<Section>
  <div id="checkbox" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Checkbox" />
  </div>
  <h2 class="sr-only">Checkbox</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Sizes</h3>
        <div class="flex flex-wrap items-center gap-4">
          {itemSizes.map(size => <Checkbox size={size} checked />)}
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Colors</h3>
        <div class="flex flex-wrap items-center gap-4">
          {itemColors.map(color => <Checkbox color={color} checked />)}
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">States</h3>
        <div class="flex flex-wrap items-center gap-4">
          <Checkbox checked />
          <Checkbox disabled />
        </div>
      </div>
    </div>
  </Section>

  <!-- Divider -->
<Section>
  <div id="divider" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Divider" />
  </div>
  <h2 class="sr-only">Divider</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Variants</h3>
        <div class="flex flex-col gap-4">
          <Divider variant="default" label="Default" />
          <Divider variant="neutral" label="Neutral" />
          <Divider variant="primary" label="Primary" />
          <Divider variant="secondary" label="Secondary" />
          <Divider variant="accent" label="Accent" />
          <Divider variant="success" label="Success" />
          <Divider variant="warning" label="Warning" />
          <Divider variant="info" label="Info" />
          <Divider variant="error" label="Error" />
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Sans label</h3>
        <div class="flex flex-col gap-4">
          <Divider variant="default" />
          <Divider variant="primary" />
          <Divider variant="accent" />
        </div>
      </div>
    </div>
  </Section>

  <!-- DotLottiePlayer -->
<Section>
  <div id="dotlottieplayer" class="scroll-mt-[5rem]">
    <Divider variant="default" label="DotLottiePlayer" />
  </div>
  <h2 class="sr-only">DotLottiePlayer</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Animation .lottie (DotLottie)</h3>
        <div class="flex flex-wrap items-center gap-4">
          <DotLottiePlayer
            src="/animations/watermelon-loader.lottie"
            width={150}
            height={150}
            loop={true}
            autoplay={true}
            controls={true}
            class="bg-base-200 rounded-lg"
          />
        </div>
        <p class="text-sm text-base-content/70 mt-2">
          Test avec le fichier .lottie original utilisant @lottiefiles/dotlottie-web
        </p>
      </div>
    </div>
  </Section>

  <!-- FluidCursor -->
<Section>
  <div id="fluidcursor" class="scroll-mt-[5rem]">
    <Divider variant="default" label="FluidCursor" />
  </div>
  <h2 class="sr-only">FluidCursor</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Fluid Cursor</h3>
        <p class="mb-4 text-sm text-base-content/70">
          Effet de curseur fluide WebGL limité à cette section. Bougez votre souris dans la zone ci-dessous.
        </p>
        <div id="fluid-cursor-demo" class="relative w-full h-80 rounded-lg overflow-hidden bg-base-200">
          <!-- Place the cursor component inside the container in scoped mode -->
          <FluidCursor scoped />
        </div>
      </div>
    </div>
  </Section>

  <!-- Halo -->
<Section>
  <div id="halo" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Halo" />
  </div>
  <h2 class="sr-only">Halo</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Halo Effect</h3>
        <div class="flex flex-wrap items-center gap-4">
          <Halo />
        </div>
      </div>
    </div>
  </Section>


<!-- Icon -->
<Section>

<h3 class="mb-2 text-lg font-bold">Système d'icônes (démo)</h3>
<div class="flex flex-wrap items-center gap-4">
  <!-- Custom -->
  <Icon name="custom:cat" class="size-8 text-pink-500" title="Custom · cat" />

  <!-- Lucide (5) -->
  <Icon name="lucide:play" class="size-8 text-base-content" title="Lucide · play" />
  <Icon name="lucide:pause" class="size-8 text-base-content" title="Lucide · pause" />
  <Icon name="lucide:heart" class="size-8 text-error" title="Lucide · heart" />
  <Icon name="lucide:star" class="size-8 text-warning" title="Lucide · star" />
  <Icon name="lucide:home" class="size-8 text-primary" title="Lucide · home" />

  <!-- Heroicons Outline (5) — alias "heroicons:*" géré -->
  <Icon name="heroicons:home" class="size-8 text-primary" title="Heroicons · home" />
  <Icon name="heroicons:user" class="size-8 text-base-content" title="Heroicons · user" />
  <Icon name="heroicons:bell" class="size-8 text-warning" title="Heroicons · bell" />
  <Icon name="heroicons:magnifying-glass" class="size-8 text-info" title="Heroicons · search" />
  <Icon name="heroicons:cog-6-tooth" class="size-8 text-secondary" title="Heroicons · settings" />
</div>

<div class="mt-3 p-3 bg-base-200 rounded-lg">
  <p class="text-sm mb-2">Syntaxes :</p>
  <pre class="text-xs overflow-x-auto">
&lt;Icon name="custom:nom-fichier" /&gt;
&lt;Icon name="lucide:icon-name" /&gt;
&lt;Icon name="heroicons:icon-name" /&gt;  (alias interne de heroicons-outline)
  </pre>
  <p class="text-xs mt-2">
    <code>size</code> accepte un nombre (px) ou une valeur CSS (ex&nbsp;: <code>"1.5rem"</code>).
    Couleurs via classes utilitaires (ex&nbsp;: <code>text-primary</code>).
  </p>
</div>
<h3 class="mb-2 text-lg font-bold">Système d'icônes (démo rapide)</h3>
<div class="flex flex-wrap items-center gap-4">
  <!-- Custom -->
  <Icon name="custom:cat" class="size-8 text-pink-500" title="Custom · cat" />

  <!-- Lucide (5) -->
  <Icon name="lucide:play" class="size-8 text-base-content" title="Lucide · play" />
  <Icon name="lucide:pause" class="size-8 text-base-content" title="Lucide · pause" />
  <Icon name="lucide:heart" class="size-8 text-error" title="Lucide · heart" />
  <Icon name="lucide:star" class="size-8 text-warning" title="Lucide · star" />
  <Icon name="lucide:home" class="size-8 text-primary" title="Lucide · home" />

  <!-- Heroicons Outline (5) — alias possible "heroicons:*" -->
  <Icon name="heroicons:home" class="size-8 text-primary" title="Heroicons · home" />
  <Icon name="heroicons:user" class="size-8 text-base-content" title="Heroicons · user" />
  <Icon name="heroicons:bell" class="size-8 text-warning" title="Heroicons · bell" />
  <Icon name="heroicons:magnifying-glass" class="size-8 text-info" title="Heroicons · search" />
  <Icon name="heroicons:cog-6-tooth" class="size-8 text-secondary" title="Heroicons · settings" />
</div>

<div class="mt-3 p-3 bg-base-200 rounded-lg">
  <p class="text-sm mb-2">Syntaxes :</p>
  <p class="text-xs mt-2">
    <code>size</code> accepte un nombre (px) ou une valeur CSS (ex&nbsp;: <code>"1.5rem"</code>).
    Les couleurs suivent les classes utilitaires (<code>text-primary</code>, etc.).
  </p>
</div>
  <div id="icon" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Icon" />
  </div>
  <h2 class="sr-only">Icon</h2>

  <div class="grid grid-cols-1 gap-6">
    <!-- Système unifié -->
    <div>
      <h3 class="mb-2 text-lg font-bold">Système d'icônes unifié</h3>
      <div class="flex flex-wrap items-center gap-4">
        <!-- Custom (depuis src/assets/icons) -->
        <Icon name="custom:cat" class="size-8 text-pink-500" title="Custom · cat" />

        <!-- Lucide (Iconify) -->
        <Icon name="lucide:play" class="size-8 text-base-content" title="Lucide · play" />
        <Icon name="lucide:music" class="size-8 text-primary" title="Lucide · music" />

        <!-- Heroicons Outline (Iconify) -->
        <Icon name="heroicons-outline:bolt" class="size-8 text-warning" title="Heroicons Outline · bolt" />

        <!-- Heroicons Solid (Iconify) -->
        <Icon name="heroicons-solid:heart" class="size-8 text-error" title="Heroicons Solid · heart" />
      </div>

      <div class="mt-3 p-3 bg-base-200 rounded-lg">
        <p class="text-sm mb-2">Syntaxes :</p>
        <p class="text-xs mt-2">
          <code>size</code> accepte un nombre (px) ou une valeur CSS (ex : <code>"1.5rem"</code>).
          Les couleurs suivent vos classes utilitaires (ex : <code>text-primary</code>).
        </p>
      </div>
    </div>

    <!-- Tailles -->
    <div>
      <h3 class="mb-2 text-lg font-bold">Tailles</h3>
      <div class="flex flex-wrap items-center gap-4">
        <Icon name="lucide:cat" size="16" class="text-base-content" title="16px" />
        <Icon name="lucide:cat" size="20" class="text-base-content" title="20px" />
        <Icon name="lucide:cat" size="24" class="text-base-content" title="24px" />
        <Icon name="lucide:cat" size="32" class="text-base-content" title="32px" />
        <Icon name="lucide:cat" size="48" class="text-base-content" title="48px" />
      </div>
    </div>

    <!-- Couleurs -->
    <div>
      <h3 class="mb-2 text-lg font-bold">Couleurs</h3>
      <div class="flex flex-wrap items-center gap-4">
        <Icon name="heroicons-outline:musical-note" size="24" class="text-primary" title="Primaire" />
        <Icon name="heroicons-outline:musical-note" size="24" class="text-secondary" title="Secondaire" />
        <Icon name="heroicons-outline:musical-note" size="24" class="text-accent" title="Accent" />
        <Icon name="heroicons-outline:musical-note" size="24" class="text-info" title="Info" />
        <Icon name="heroicons-outline:musical-note" size="24" class="text-success" title="Succès" />
        <Icon name="heroicons-outline:musical-note" size="24" class="text-warning" title="Attention" />
        <Icon name="heroicons-outline:musical-note" size="24" class="text-error" title="Erreur" />
      </div>
    </div>

    <!-- (Optionnel) réfs directes existantes pour compat -->
    <div class="border-t border-base-300 pt-4 mt-4">
      <h3 class="mb-2 text-lg font-bold">Références directes (anciennes méthodes)</h3>
      <div class="flex flex-wrap items-center gap-4">
        <MdiStore24Hour class="w-6 h-6 text-base-content" />
        <MdiAlarmOff class="w-6 h-6 text-base-content" />
        <IconParkAbnormal class="w-6 h-6 text-base-content" />
        <Fragment set:html={RawMdiAlarmOff} />
        <Fragment set:html={RawMdiAlarmOff2} />
      </div>
    </div>
  </div>
</Section>


  <!-- ImageMod -->
<Section>
  <div id="imagemod" class="scroll-mt-[5rem]">
    <Divider variant="default" label="ImageMod" />
  </div>
  <h2 class="sr-only">ImageMod</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Image avec optimisations</h3>
        <div class="flex flex-wrap items-center gap-4">
<ImageMod
            src="img_opt/jeremie-hero"
            alt="Jérémie"
            width={400}
            height={400}
          />
        </div>
      </div>
    </div>
  </Section>

  <!-- Loader -->
<Section>
  <div id="loader" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Loader" />
  </div>
  <h2 class="sr-only">Loader</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Variants</h3>
        <div class="flex flex-wrap items-center gap-4">
          {loadingVariants.map(variant => <Loader variant={variant} />)}
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Sizes</h3>
        <div class="flex flex-wrap items-center gap-4">
          {itemSizes.map(size => <Loader size={size} />)}
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Colors</h3>
        <div class="flex flex-wrap items-center gap-4">
          {itemColors.map(color => <Loader color={color} />)}
        </div>
      </div>
    </div>
  </Section>

  <!-- LottiePlayer -->
<Section>
  <div id="lottieplayer" class="scroll-mt-[5rem]">
    <Divider variant="default" label="LottiePlayer" />
  </div>
  <h2 class="sr-only">LottiePlayer</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Animation Test Simple (JSON)</h3>
        <div class="flex flex-wrap items-center gap-4">
          <LottiePlayer
            src="/animations/test-simple.json"
            width={150}
            height={150}
            loop={true}
            autoplay={true}
            controls={false}
            class="bg-base-200 rounded-lg"
          />
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Animation Watermelon Loader (JSON)</h3>
        <div class="flex flex-wrap items-center gap-4">
          <LottiePlayer
            src="/animations/watermelon-simple.json"
            width={150}
            height={150}
            loop={true}
            autoplay={true}
            controls={false}
            class="bg-base-200 rounded-lg"
          />
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Avec contrôles</h3>
        <div class="flex flex-wrap items-center gap-4">
          <LottiePlayer
            src="/animations/watermelon-simple.json"
            width={200}
            height={200}
            loop={true}
            autoplay={false}
            controls={true}
            speed={0.8}
            class="bg-base-200 rounded-lg"
          />
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Différentes tailles</h3>
        <div class="flex flex-wrap items-center gap-4">
          <LottiePlayer
            src="/animations/watermelon-simple.json"
            width={100}
            height={100}
            loop={true}
            autoplay={true}
            speed={1.5}
            class="bg-base-200 rounded-lg"
          />
          <LottiePlayer
            src="/animations/watermelon-simple.json"
            width={150}
            height={150}
            loop={true}
            autoplay={true}
            speed={1}
            class="bg-base-200 rounded-lg"
          />
          <LottiePlayer
            src="/animations/watermelon-simple.json"
            width={250}
            height={250}
            loop={true}
            autoplay={true}
            speed={0.5}
            class="bg-base-200 rounded-lg"
          />
        </div>
      </div>
    </div>
  </Section>

  <!-- Notice -->
<Section>
  <div id="notice" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Notice" />
  </div>
  <h2 class="sr-only">Notice</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Types</h3>
        <div class="flex flex-col gap-4">
          <Notice type="tip">This is a tip notice</Notice>
          <Notice type="info">This is an info notice</Notice>
          <Notice type="warning">This is a warning notice</Notice>
          <Notice type="danger">This is a danger notice</Notice>
        </div>
      </div>
    </div>
  </Section>

  <!-- PaginationItem -->
<Section>
  <div id="paginationitem" class="scroll-mt-[5rem]">
    <Divider variant="default" label="PaginationItem" />
  </div>
  <h2 class="sr-only">PaginationItem</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">States</h3>
        <div class="flex flex-wrap items-center gap-4">
          <PaginationItem label="1" page={1} href="#" />
          <PaginationItem label="2" page={2} current />
          <PaginationItem label="3" page={3} href="#" />
          <PaginationItem label="..." disabled />
        </div>
      </div>
    </div>
  </Section>

  <!-- Video -->
<Section>
  <div id="video" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Video" />
  </div>
  <h2 class="sr-only">Video</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Video Player</h3>
        <div class="flex flex-wrap items-center gap-4">
          <div class="w-3/4 mx-auto">
            <Video title="Sample Video" width="100%" height="auto" src="https://www.w3schools.com/html/mov_bbb.mp4" />
          </div>
        </div>
      </div>
    </div>
  </Section>

  <!-- Youtube -->
<Section>
  <div id="youtube" class="scroll-mt-[5rem]">
    <Divider variant="default" label="Youtube" />
  </div>
  <h2 class="sr-only">Youtube</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Youtube Player</h3>
        <div class="flex flex-wrap items-center gap-4">
          <Youtube id="dQw4w9WgXcQ" title="Sample YouTube Video" />
        </div>
      </div>
    </div>
  </Section>

  <!-- Kbd -->
  <Section>
    <div id="kbd" class="scroll-mt-[5rem]">
      <Divider variant="default" label="Kbd" />
    </div>
    <h2 class="sr-only">Kbd</h2>
    <div class="grid grid-cols-1 gap-4">
      <div>
        <h3 class="mb-2 text-lg font-bold">Tailles</h3>
        <div class="flex flex-wrap items-center gap-4">
          <Kbd size="xs">K</Kbd>
          <Kbd size="sm">K</Kbd>
          <Kbd size="md">K</Kbd>
          <Kbd size="lg">K</Kbd>
          <Kbd size="xl">K</Kbd>
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Test Daisy UI direct</h3>
        <div class="flex flex-wrap items-center gap-4">
          <kbd class="kbd">K</kbd>
          <kbd class="kbd">ESC</kbd>
          <kbd class="kbd kbd-lg">K</kbd>
        </div>
      </div>
      <div>
        <h3 class="mb-2 text-lg font-bold">Exemple d'utilisation avec composant</h3>
        <div class="flex flex-wrap items-center gap-4">
          <Kbd size="md">Ctrl</Kbd>
          <Kbd size="md">+</Kbd>
          <Kbd size="md">K</Kbd>
          <span class="text-sm">pour ouvrir les raccourcis clavier</span>
        </div>
      </div>
    </div>
  </Section>
</StyleGuideLayout>
