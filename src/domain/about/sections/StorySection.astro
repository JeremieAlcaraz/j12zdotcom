---
import ImageMod from '@/ui/atoms/ImageMod.astro'
import Badge from '@/ui/atoms/Badge.astro'
import Checkbox from '@/ui/atoms/Checkbox.astro'
import { markdownify } from '@/utils/textConverter'
import { getEntry } from 'astro:content'

interface Section {
  title: string
  content: string
  image?: string
}

const aboutEntry = await getEntry('about', 'index')
if (!aboutEntry) {
  throw new Error('About entry not found! Check src/content/about/index.mdx')
}

const { story } = aboutEntry.data as { story: Section }
---

<section class="section-sm">
  <div class="container">
    <div class="grid grid-cols-1 items-center gap-8 lg:grid-cols-[8fr_5fr] lg:gap-12 xl:gap-16">
      <!-- Image avec proportions harmonieuses -->
      <div class="order-2 flex justify-center lg:order-2 lg:justify-end">
        <div class="relative">
          <div
            class="mask mask-hexagon h-80 w-80 overflow-hidden shadow-xl transition-all duration-300 hover:scale-105 hover:shadow-2xl md:h-96 md:w-96 lg:h-[400px] lg:w-[400px]"
          >
            {
              story.image && (
                <ImageMod
                  src={story.image}
                  alt={story.title}
                  width={600}
                  height={600}
                  format="webp"
                  class="h-full w-full object-cover"
                />
              )
            }
          </div>
          <!-- Subtle accent background -->
          <div class="absolute -inset-4 -z-10 rounded-3xl bg-gradient-to-br from-accent/10 to-primary/10 blur-xl"></div>

          <!-- Timeline badges -->
          <div class="absolute -top-6 left-1/2 -translate-x-1/2">
            <Badge label="üöÄ Mon parcours" variant="primary" />
          </div>
          <div class="absolute -bottom-6 right-4">
            <Badge label="‚ú® R√©v√©lation" variant="secondary" />
          </div>
        </div>
      </div>

      <!-- Content avec r√©cit inspirant -->
      <div class="order-1 space-y-8 lg:order-1 lg:pr-8">
        <div class="space-y-6">
          <h2 class="text-3xl font-bold leading-tight text-base-content md:text-4xl lg:text-5xl">
            {story.title}
          </h2>

          <div class="space-y-6">
            <div class="space-y-4">
              <p class="text-lg text-base-content/80 leading-relaxed">
                Tout a commenc√© par une <strong class="text-primary">frustration personnelle</strong>.
                Comme beaucoup, je jonglais entre mille applications, post-it coll√©s partout,
                et cette sensation d√©sagr√©able d'√™tre <em>d√©bord√© par mes propres outils</em>. üò§
              </p>

              <p class="text-base text-base-content/70 leading-relaxed">
                Un jour, j'ai r√©alis√© quelque chose de fondamental : <strong>nos outils nous compliquent la vie
                au lieu de nous la simplifier</strong>. C'√©tait le d√©clic qui allait changer ma vision
                de la productivit√©.
              </p>
            </div>

            <!-- Mes d√©couvertes cl√©s -->
            <div class="bg-gradient-to-r from-secondary/5 to-accent/5 rounded-2xl p-6 border border-secondary/10">
              <h4 class="text-lg font-semibold text-base-content mb-4">Les r√©v√©lations qui ont tout chang√© :</h4>

              <div class="space-y-3">
                <div class="flex items-start space-x-3">
                  <Checkbox checked disabled color="secondary" size="sm" />
                  <div>
                    <p class="text-base-content/80"><strong>La r√®gle d'or :</strong> Un outil doit s'adapter √† votre cerveau, pas l'inverse</p>
                  </div>
                </div>

                <div class="flex items-start space-x-3">
                  <Checkbox checked disabled color="accent" size="sm" />
                  <div>
                    <p class="text-base-content/80"><strong>Moins c'est plus :</strong> 3 outils bien choisis valent mieux que 30</p>
                  </div>
                </div>

                <div class="flex items-start space-x-3">
                  <Checkbox checked disabled color="primary" size="sm" />
                  <div>
                    <p class="text-base-content/80"><strong>L'humain d'abord :</strong> Respecter nos limites cognitives</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- L'√©volution -->
            <div class="space-y-4">
              <p class="text-base text-base-content/70 leading-relaxed">
                Depuis, j'ai d√©velopp√© une approche unique : la <strong class="text-secondary">"Productivit√© Douce"</strong>.
                Cette philosophie place <em>votre bien-√™tre mental</em> au centre de votre organisation.
              </p>

              <p class="text-base text-base-content/70 leading-relaxed">
                Aujourd'hui, j'accompagne des entrepreneurs, cr√©ateurs et professionnels √† cr√©er
                des syst√®mes qui leur ressemblent vraiment. <strong>Sans stress, sans culpabilit√©,
                juste de la clart√© et de la s√©r√©nit√©.</strong> üå∏üíú
              </p>
            </div>
          </div>
        </div>

        <!-- Citation inspirante -->
        <div class="relative">
          <div class="bg-base-200/50 rounded-2xl p-6 backdrop-blur-sm border-l-4 border-primary">
            <blockquote class="text-base italic text-base-content/80">
              "La vraie productivit√©, c'est avoir l'esprit libre pour cr√©er ce qui compte vraiment.
              Tout le reste n'est que du bruit."
            </blockquote>
            <footer class="mt-3 text-sm text-base-content/60">
              ‚Äî Ma philosophie en une phrase ‚ú®
            </footer>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
