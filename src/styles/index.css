/* Imports Tailwind et DaisyUI */
@import 'tailwindcss';

/* Safelist for dynamic DaisyUI classes */
@source inline('loading-{spinner,dots,ring,ball,bars,infinity}');
@source inline('loading-{xs,sm,md,lg,xl}');
@source inline('text-{primary,secondary,accent,neutral,info,success,warning,error}');
@source inline('checkbox-{xs,sm,md,lg,xl}');
@source inline('checkbox-{primary,secondary,accent,neutral,success,warning,error}');

@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";
@plugin "daisyui";

/* Thèmes */
@import './theme.css';

@layer base {
  @import "./base.css";
  @import "./typography.css";
}

@layer components {
  @import "./components.css";
  /* @import "./navigation.css"; */
  /* @import "./buttons.css"; */
  /* @import "./search.css"; */

  /* Highlight styles – héritent de la couleur .prose */
  .prose :where(.hl, mark) {
    @apply bg-primary/10 rounded px-1;
    color: inherit;
    -webkit-box-decoration-break: clone;
    box-decoration-break: clone;
  }

  /* Soulignage façon surligneur (utilise les variables DaisyUI) */
  .prose :where(.hl-underline) {
    @apply bg-transparent rounded;
    box-shadow: inset 0 -0.5em 0 rgb(var(--p) / 0.1);   /* --p = primary */
    padding: 0 0.05em;
    -webkit-box-decoration-break: clone;
    box-decoration-break: clone;
  }

  @media (prefers-color-scheme: dark) {
    .prose :where(.hl, mark) {
      @apply bg-primary-content/10; /* plus lisible en dark */
    }
    .prose :where(.hl-underline) {
      box-shadow: inset 0 -0.5em 0 rgb(var(--pc) / 0.1); /* --pc = primary-content */
    }
  }
}
